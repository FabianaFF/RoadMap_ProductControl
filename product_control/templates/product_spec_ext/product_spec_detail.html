<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <title>Listagem de Product_Spec</title>
   
    
    <!-- 
    <link rel="stylesheet" type="text/css" href="/shared/example.css" />
    <script type="text/javascript" src="../../static/ext/bootstrap.js"></script>    
    <script type="text/javascript" src="../../static/product_js/form-grid.js"></script>
    -->
    <link rel="stylesheet" type="text/css" href="/static/ext/resources/css/ext-all.css" />
    <script type="text/javascript" src="/static/ext/ext-all-dev.js" />
    <script type="text/javascript" src="/static/ext/ext-all-debug.js"></script>
    


</head>
<body>
	<script>
	Ext.onReady(function(){

		var store = new Ext.data.JsonStore({
		    // store configs
		    storeId: 'ProductSpecStore',

		    proxy: {
		        type: 'ajax',
		        url: '/product/product_spec/1',
		        reader: {
		            type: 'json',
		            //root: 'products',
		            idProperty: 'id'
		        }
		    },

		    //alternatively, a Ext.data.Model name can be given (see Ext.data.Store for an example)
		    fields: [ {name:'id', type: 'int'}, {name:'name', type:'string'}]
		});
	store.load();
	
	
	var win;




	
	var grid = new Ext.grid.GridPanel({
			title: 'Product Spec',			
			store: store,
	        columns: [	     
				{
					width: 40,
				    renderer: function (v, m, r) {
				        var id = Ext.id();
				        Ext.defer(function () {
				            Ext.widget('button', {
				                renderTo: id,
				                text: 'X',
				                width: 25,
				                handler: function () { Ext.Msg.alert('Excluir', r.get('name')) }
				            });
				        }, 50);
				        return Ext.String.format('<div id="{0}"></div>', id);
				    }
				},
				{
					width: 70,
				    renderer: function (v, m, r) {
				        var id = Ext.id();
				        Ext.defer(function () {
				            Ext.widget('button', {
				                renderTo: id,
				                text: 'Editar',
				                width: 55,
				                handler: function () { Ext.Msg.alert('Info', r.get('name')) }
				            });
				        }, 50);
				        return Ext.String.format('<div id="{0}"></div>', id);
				    }
				},								
	            {header: "Id", width: 60, dataIndex: 'id', sortable: true, hidden: true},
	            {header: "Name", width: 170, dataIndex: 'name', sortable: true,
	            	renderer: function (value, metaData, record, row, col, store, gridView) {
	            		    var rec = store.getAt(row);	                        
	                     return Ext.String.format('<a href="{0}">{1}</a>',rec.get('id'), value);
	                 }
	            }
	        ],
	        renderTo: Ext.getBody(),
	        width:300,
	        height:200
	    });
	});
	</script>
</body>


</html>